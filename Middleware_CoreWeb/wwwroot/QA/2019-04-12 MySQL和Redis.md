
# <center>MySQL和Redis</center>

## MySQL

### <p style="background-color:#006699;border-radius:8px;color:white;padding-left:20px;">主键 超键 候选键 外键</p>

** 主键：**
数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。一个数据列只能有一个主键，且主键的取值不能缺失，即不能为空值（Null）。
** 超键：**
在关系中能唯一标识元组的属性集称为关系模式的超键。一个属性可以为作为一个超键，多个属性组合在一起也可以作为一个超键。超键包含候选键和主键。
** 候选键：**
 是最小超键，即没有冗余元素的超键。
** 外键：**
 在一个表中存在的另一个表的主键称此表的外键。
<!-- more -->
### <p style="background-color:#006699;border-radius:8px;color:white;padding-left:20px;">数据库事务的四个特性及含义</p>

数据库事务transanction正确执行的四个基本要素(**ACID**)
- 原子性(Atomicity) :
整个事务中的所有操作，要么全部完成，要么全部不完成，不可能停滞在中间某个环节。事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。

- 一致性(Correspondence) :
在事务开始之前和事务结束以后，数据库的完整性约束没有被破坏。

- 隔离性(Isolation) :
隔离状态执行事务，使它们好像是系统在给定时间内执行的唯一操作。如果有两个事务，运行在相同的时间内，执行 相同的功能，事务的隔离性将确保每一事务在系统中认为只有该事务在使用系统。这种属性有时称为串行化，为了防止事务操作间的混淆，必须串行化或序列化请 求，使得在同一时间仅有一个请求用于同一数据。
- 持久性(Durability) :
在事务完成以后，该事务所对数据库所作的更改便持久的保存在数据库之中，并不会被回滚。

### <p style="background-color:#525452;border-radius:8px;color:white;padding-left:20px;">视图的作用，视图可以更改么？</p>

视图是虚拟的表，与包含数据的表不一样，视图只包含使用时动态检索数据的查询；不包含任何列或数据。使用视图可以简化复杂的sql操作，隐藏具体的细节，保护数据；视图创建后，可以使用与表相同的方式利用它们。
视图不能被索引，也不能有关联的触发器或默认值，如果视图本身内有order by 则对视图再次order by将被覆盖。

创建视图：create view XX as XX;
对于某些视图比如未使用联结子查询分组聚集函数Distinct Union等，是可以对其更新的，对视图的更新将对基表进行更新；但是视图主要用于简化检索，保护数据，并不用于更新，而且大部分视图都不可以更新。

### <p style="background-color:#006699;border-radius:8px;color:white;padding-left:20px;">drop,delete与truncate的区别</p>

drop直接删掉表 truncate删除表中数据，再插入时自增长id又从1开始 delete删除表中数据，可以加where字句。

1. DELETE语句执行删除的过程是每次从表中删除一行，并且同时将该行的删除操作作为事务记录在日志中保存以便进行进行回滚操作。TRUNCATE TABLE 则一次性地从表中删除所有的数据并不把单独的删除操作记录记入日志保存，删除行是不能恢复的。并且在删除的过程中不会激活与表有关的删除触发器。执行速度快。

2. 表和索引所占空间。当表被TRUNCATE 后，这个表和索引所占用的空间会恢复到初始大小，而DELETE操作不会减少表或索引所占用的空间。drop语句将表所占用的空间全释放掉。



